<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SmartDent ERP — Clinical</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    .card { @apply bg-white rounded-2xl shadow p-4; }
    .tab-active { @apply border-b-2 border-indigo-600 text-indigo-600 font-semibold; }
  </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800 antialiased">

  <!-- Header -->
  <header class="bg-indigo-600 text-white py-4 shadow">
    <div class="container mx-auto px-4 flex justify-between items-center">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-full bg-white/90 flex items-center justify-center shadow">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#374151" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 3v6"></path><path d="M8 10s1 2 4 2 4-2 4-2"></path><path d="M6 21s2-4 6-4 6 4 6 4"></path>
          </svg>
        </div>
        <div class="font-semibold text-lg">SmartDent ERP</div>
      </div>
      <div class="flex items-center gap-3">
        <button class="bg-white/90 text-indigo-600 px-3 py-2 rounded-md inline-flex items-center gap-2 shadow-sm">
          <i data-feather="clipboard"></i> Clinical Tools
        </button>
        <div class="relative">
          <button class="flex items-center gap-2 bg-white/90 px-3 py-2 rounded-full shadow-sm">
            <img src="assets/images/avatar.jpg" class="w-8 h-8 rounded-full object-cover">
            <span class="hidden md:inline-block text-sm">Dr._____</span>
            <i data-feather="chevron-down"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="container mx-auto px-4 py-6">
    <div class="card">
      <!-- Tabs -->
      <div class="flex gap-6 border-b mb-4 text-sm">
        <button class="tab-active" onclick="showTab('charting')">Charting</button>
        <button onclick="showTab('imaging')">Imaging</button>
        <button onclick="showTab('prescriptions')">Prescriptions</button>
      </div>

      <!-- Charting -->
      <div id="charting" class="space-y-4">
        <h2 class="text-lg font-semibold">Dental Charting</h2>
        <div class="bg-gray-100 rounded-lg p-4">
          <svg viewBox="0 0 200 100" class="w-full h-40">
            <circle cx="20" cy="50" r="8" fill="#60A5FA" />
            <circle cx="50" cy="50" r="8" fill="#34D399" />
            <circle cx="80" cy="50" r="8" fill="#FBBF24" />
            <circle cx="110" cy="50" r="8" fill="#F87171" />
            <circle cx="140" cy="50" r="8" fill="#A78BFA" />
            <text x="20" y="75" font-size="10" text-anchor="middle">1</text>
            <text x="50" y="75" font-size="10" text-anchor="middle">2</text>
            <text x="80" y="75" font-size="10" text-anchor="middle">3</text>
            <text x="110" y="75" font-size="10" text-anchor="middle">4</text>
            <text x="140" y="75" font-size="10" text-anchor="middle">5</text>
          </svg>
        </div>
        <textarea class="w-full border rounded-md p-2" rows="4" placeholder="Charting notes…"></textarea>
        <button class="px-4 py-2 bg-indigo-600 text-white rounded-md">Save Chart</button>
      </div>

      <!-- Imaging -->
      <div id="imaging" class="space-y-4 hidden">
        <h2 class="text-lg font-semibold">Imaging</h2>
        <input type="file" class="border rounded-md p-2" />
        <div class="grid grid-cols-2 gap-4 mt-4">
          <div class="bg-gray-100 rounded-lg h-32 flex items-center justify-center text-sm text-gray-500">X-ray 1</div>
          <div class="bg-gray-100 rounded-lg h-32 flex items-center justify-center text-sm text-gray-500">X-ray 2</div>
        </div>
      </div>

      <!-- Prescriptions -->
      <div id="prescriptions" class="space-y-4 hidden">
        <h2 class="text-lg font-semibold">Prescriptions</h2>
        <ul class="space-y-3 text-sm" id="prescriptionList"></ul>
        <div class="flex gap-2">
          <input id="medInput" type="text" placeholder="Medication" class="flex-1 px-3 py-2 border rounded-md" />
          <button onclick="addPrescription()" class="px-4 py-2 bg-green-600 text-white rounded-md">Add</button>
        </div>
      </div>
    </div>
  </main>

  <footer class="mt-8 text-sm text-gray-500 text-center">
    SmartDent ERP • Clinical Records & Tools
  </footer>
  <script src="core.js"></script>
  <!-- Scripts -->
  <script>
    feather.replace();

    function showTab(id){
      ['charting','imaging','prescriptions'].forEach(tab => {
        document.getElementById(tab).style.display = tab === id ? 'block' : 'none';
      });
      document.querySelectorAll('button').forEach(btn => btn.classList.remove('tab-active'));
      event.target.classList.add('tab-active');
    }

    const prescriptions = [
      { name: 'Amoxicillin 500mg', dosage: '3x daily for 5 days' },
      { name: 'Ibuprofen 400mg', dosage: '2x daily after meals' }
    ];

    function renderPrescriptions(){
      const ul = document.getElementById('prescriptionList');
      ul.innerHTML = '';
      prescriptions.forEach(p => {
        const li = document.createElement('li');
        li.className = 'flex justify-between items-center';
        li.innerHTML = `<div>${p.name} — <span class="text-gray-500">${p.dosage}</span></div>
                        <button onclick="removePrescription('${p.name}')" class="text-rose-600"><i data-feather="x"></i></button>`;
        ul.appendChild(li);
      });
      feather.replace();
    }

    function addPrescription(){
      const med = document.getElementById('medInput').value.trim();
      if(!med) return;
      prescriptions.push({ name: med, dosage: '—' });
      document.getElementById('medInput').value = '';
      renderPrescriptions();
    }

    function removePrescription(name){
      const idx = prescriptions.findIndex(p => p.name === name);
      if(idx !== -1) prescriptions.splice(idx, 1);
      renderPrescriptions();
    }

    renderPrescriptions();
  </script>
</body>
</html>
